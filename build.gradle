plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'




repositories {
    mavenCentral()
}

dependencies {
    compileOnly 'javax.servlet:servlet-api:2.5'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'
}

appengine {
    httpPort = 8080
    downloadSdk = true

    appcfg {
        oauth2 = true
    }
    jvmFlags = ['-Xdebug',
                '-agentlib:jdwp=transport=dt_socket,address=8079,server=y,suspend=n',
                '-Dappengine.fullscan.seconds=3',
                "-Ddatastore.backing_store=$projectDir/appengine-generated/local_db.bin",
                "-Ddatastore.generated_dir=$projectDir/appengine-generated",
                "-Dblobstore.backing_store=$projectDir/appengine-generated/blob"
    ]
}

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'appengine'

test {
    useJUnitPlatform()
}